const ancho_pantalla=$(window).width(),year=(new Date).getFullYear(),alto_cabecera=$("header").outerHeight(!0);$(document).ready((function(){$(".carrusel").owlCarousel({autoplay:!0,autoplayTimeout:5e3,loop:!0,margin:0,animateIn:"fadeIn",animateOut:"fadeOut",nav:!1,dots:!0,dotsContainer:".dots_carrusel",items:1}),altos_about(),$("#year").html(year),$(".menu li").click((function(){id=$(this).attr("id"),destino=id.substr(3),smoothScrollTo(destino),$(".menu li").removeClass("active"),$(this).addClass("active")})),$(".scroll_to_content").click((function(){smoothScrollTo("sobre")})),$("#submit").click((function(){validarContacto()})),ancho_pantalla<768?($(".contenedor_servicios").addClass("owl-carousel"),$(".contenedor_servicios").owlCarousel({autoplay:!0,autoplayTimeout:5e3,loop:!0,margin:0,nav:!1,dots:!0,items:1}),$(".contenedor_galeria").addClass("owl-carousel"),$(".contenedor_galeria").owlCarousel({autoplay:!0,autoplayTimeout:5e3,loop:!0,margin:0,nav:!0,dots:!1,navText:['<i class="fas fa-chevron-left"></i>','<i class="fas fa-chevron-right"></i>'],items:1}),$(".toggle_menu").click((function(){$(".menu").addClass("on")})),$(".cerrar_menu").click((function(){$(".menu").removeClass("on")}))):($(".contenedor_servicios").hasClass("owl-carousel")&&($(".contenedor_servicios").owlCarousel("destroy"),$(".contenedor_servicios").owlCarousel({touchDrag:!1,mouseDrag:!1})),$(".contenedor_galeria").hasClass("owl-carousel")&&($(".contenedor_galeria").owlCarousel("destroy"),$(".contenedor_galeria").owlCarousel({touchDrag:!1,mouseDrag:!1})),$(".menu").removeClass("on"))})),$(window).on("load",(function(){altos_about()})),$(window).scroll((function(event){let scroll=$(window).scrollTop()+alto_cabecera,opcion="";inicio=0,about=$("#sobre").offset().top,services=$("#servicios").offset().top,gallery=$("#galeria").offset().top,contact=$("#contacto").offset().top,alto_ventana=$(window).outerHeight(!0),alto_documento=$(document).outerHeight(!0),offset_bottom=alto_documento-alto_ventana,opcion=scroll<about?"go_inicio":scroll>=about&&scroll<services?"go_sobre":scroll>=services&&scroll<gallery?"go_servicios":scroll>=gallery&&scroll<contact&&scroll<offset_bottom?"go_galeria":"go_contacto",$(".menu li").removeClass("active"),$("#"+opcion).addClass("active");let max_scroll=$(document).height()-$(window).height(),current_scroll,perc_fill=100*$(window).scrollTop()/max_scroll;$(".hscroll").css("width",perc_fill+"%")})),$(window).on("orientationchange",(function(){altos_about()})),$(window).on("resize",(function(){altos_about()}));const altos_about=()=>{if(ancho_pantalla>1600){let alto_carrusel=$(".sobre_nosotros .contenedor_carrusel").outerHeight(!0),alto_contenido=$(".sobre_nosotros .contenido").outerHeight(!0);alto_carrusel>alto_contenido?$(".sobre_nosotros .contenido").css("height",alto_carrusel+"px"):$(".sobre_nosotros .contenedor_carrusel").css("height",alto_contenido+"px")}else $(".sobre_nosotros .contenido").css("height","auto"),$(".sobre_nosotros .contenedor_carrusel").css("height","auto")},smoothScrollTo=destino=>{scroll="inicio"==destino?0:$("#"+destino).position().top-alto_cabecera+1,$("html, body").animate({scrollTop:scroll},800)},validarContacto=()=>{let nombre=$('#contacto input[name="nombre"]'),telefono=$('#contacto input[name="telefono"]'),email=$('#contacto input[name="email"]'),mensaje=$('#contacto textarea[name="mensaje"]');""==nombre.val()||nombre.val().length<2?(nombre.addClass("errored"),nombre.parent().append('<span class="error_form">Introduce tu nombre</span>')):nombre.removeClass("errored"),telefono.val().length>0&&telefono.val().length<9?(telefono.addClass("errored"),telefono.parent().append('<span class="error_form">El teléfono no es válido</span>')):telefono.removeClass("errored"),""==email.val()?(email.addClass("errored"),email.parent().append('<span class="error_form">Introduce tu email</span>')):(emailValido=validEmail(email.val()),emailValido.valid?email.removeClass("errored"):(email.parent().append('<span class="error_form">'+emailValido.msg+"</span>"),email.addClass("errored"))),""==mensaje.val()&&mensaje.val().length<5?(mensaje.addClass("errored"),mensaje.parent().append('<span class="error_form">El mensaje es obligatorio (Min. 5 caracteres)</span>')):mensaje.removeClass("errored"),$(".error_form").length>0?setTimeout((function(){$(".error_form").remove(),$("#contacto input").removeClass("errored"),$("#contacto textarea").removeClass("errored")}),4e3):$("#form_contacto").submit()},validEmail=email=>{let resp={valid:!0,msg:""};if(email.length<7)resp.valid=!1;else{let index_arroba=email.indexOf("@"),index_punto=email.indexOf(".");if(-1===index_arroba||-1===index_punto)resp.valid=!1;else{let division;-1===email.split("@")[1].indexOf(".")&&(resp.valid=!1)}}return resp.valid||(resp.msg="Email no válido"),resp};